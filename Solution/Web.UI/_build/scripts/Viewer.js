function initialize(){var e=$("#urn").val();console.log(e),console.log(e),(null==e||""===e)&&(console.log("x"),e="urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6ZGV2YnVja2V0L0RyaWxsLmR3Zng="),"urn:"!==e.substr(0,4)&&(e="urn:"+e);var n={document:e,getAccessToken:getToken,refreshToken:getToken},o=document.getElementById("viewer");viewer=new Autodesk.Viewing.Private.GuiViewer3D(o,{extensions:["BasicExtension"]}),Autodesk.Viewing.Initializer(n,function(){viewer.start(),loadDocument(viewer,n.document)})}function loadDocument(e,n){Autodesk.Viewing.Document.load(n,function(n){var o=[];o=Autodesk.Viewing.Document.getSubItemsWithProperties(n.getRootItem(),{type:"geometry",role:"3d"},!0),o.length>0&&e.load(n.getViewablePath(o[0]))},function(e){alert("Load Error: "+e)})}function getToken(){console.log("hello");var e=null;e=new XMLHttpRequest,e.open("GET","GetAccessToken.aspx",!1),e.send(null);var n=e.responseText,o=JSON.parse(n);return o.error?(console.log(o.error),""):o.access_token}var viewer;$("#btnLoadModel").click(function(){initialize()}),initialize();