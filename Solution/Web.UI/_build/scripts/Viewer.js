!function(e,n,o){"use strict";n.code=n.code||{};var t=n.code.viewer=function(n){function o(){r()}function r(){e(w).on("click",f,i),e(w).on("click",f,u)}function i(n){var o=e(n.target);d=o.data(g),console.log(d)}function c(){var o=e("#urn").val();(null==o||""===o)&&(o="urn:"+d),"urn:"!==o.substr(0,4)&&(o="urn:"+o),n={document:o,getAccessToken:s,refreshToken:s}}function u(){c(),t=new Autodesk.Viewing.Private.GuiViewer3D(l,{extensions:["BasicExtension"]}),Autodesk.Viewing.Initializer(n,function(){t.start(),a(t,n.document)})}function a(e,n){Autodesk.Viewing.Document.load(n,function(n){var o=[];o=Autodesk.Viewing.Document.getSubItemsWithProperties(n.getRootItem(),{type:"geometry",role:"3d"},!0),o.length<0||e.load(n.getViewablePath(o[0]))},function(e){alert("Load Error: "+e)})}function s(){var e=null;e=new XMLHttpRequest,e.open("GET","GetAccessToken.aspx",!1),e.send(null);var n=e.responseText,o=JSON.parse(n);return o.error?void console.log(o.error):o.access_token}var d,l=document.getElementById("viewer"),f="[data-load-model]",g="loadModel",w="[data-render]",n={};o()}}(jQuery,window),$(function(){new code.viewer});